<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.1</TargetFramework>
    <Nullable>enable</Nullable>
  </PropertyGroup>


	<PropertyGroup>
		<VersionPrefix>4.0.0</VersionPrefix>

		<Company>Mythosia</Company>
		<PackageTags>AI; Gpt5; Gpt5.1; Gpt5.2; Claude Opus 4.1; ChatGpt; Claude; DeepSeek; Sonar; Gemini; Multi modal;</PackageTags>
		<Authors>JJW</Authors>
		<Description>
## 🚀 What's New in v4.0.0
See release notes for latest updates: https://github.com/AJ-comp/Mythosia/wiki/Release-Notes

### Architecture: Configuration moved from ChatBlock to AIService
- **AIService** now holds: Model, Temperature, TopP, MaxTokens, Functions, EnableFunctions, MaxMessageCount, Stream
- **ChatBlock** now only holds: Messages, SystemMessage, Id
- **CopyFrom** copies conversation data + service-level settings (Model excluded for cross-provider safety)
- Configure once on the service, all conversations share the same settings

### v3.2.0: GPT-5.1 / GPT-5.2 Model Support
- **GPT-5.1**: Reasoning model with effort levels (none/low/medium/high) and text verbosity (low/medium/high)
- **GPT-5.2**: Best model for complex, coding, and agentic tasks with effort levels (none/low/medium/high/xhigh)
- **GPT-5.2 Pro**: High-compute model for tough problems (medium/high/xhigh)
- **WithGpt5_1Parameters()**: Configure reasoning effort, verbosity, and reasoning summary for GPT-5.1
- **WithGpt5_2Parameters()**: Configure reasoning effort, verbosity, and reasoning summary for GPT-5.2
- **Reasoning Summary**: All GPT-5 family models now support configurable reasoning summary (auto/concise/detailed/disabled)

## Comprehensive AI Model Support

- **OpenAI**: GPT-5.2/5.1/5 (with reasoning), GPT-4.1, GPT-4o, o3
- **Anthropic**: Claude 4 (Opus 4.1, Sonnet 4), Claude 3.7, Claude 3.5
- **Google**: Gemini 2.5 Pro/Flash, Gemini 2.0, Gemini 1.5
- **DeepSeek**: Chat and Reasoner models
- **Perplexity**: Sonar with web search and citations

## Key Features

- ✅ **Architecture Overhaul**: Config on AIService, ChatBlock is conversation-only (v4.0.0)
- ✅ **GPT-5.1/5.2 Support**: Verbosity and reasoning effort per model (v3.2.0)
- ✅ **GPT-5 Reasoning**: Streaming and non-streaming reasoning support (v3.1.0)
- ✅ **Function Calling**: Let AI execute your code (v3.0.0)
- ✅ **Streaming 2.0**: IAsyncEnumerable with metadata (v3.0.0)
- ✅ **Policy Control**: Timeout and retry management (v3.0.0)
- ✅ **Multimodal**: Text + images for vision models
- ✅ **Web Search**: Real-time search with citations (Perplexity)
- ✅ **Audio**: TTS and STT support (OpenAI)
- ✅ **Stateless Mode**: Independent requests without history
- ✅ **Fluent API**: Intuitive message builder
- ✅ **Token Management**: Precise counting and limits

## Quick Example
```csharp
// GPT-5.2 with reasoning effort and verbosity
var gptService = (ChatGptService)service;
gptService.WithGpt5_2Parameters(reasoningEffort: "high", verbosity: "high");
var response = await gptService.GetCompletionAsync("Solve: 15 * 17");

// GPT-5.1 with custom configuration
gptService.WithGpt5_1Parameters(reasoningEffort: "medium", verbosity: "low", reasoningSummary: "concise");
var response2 = await gptService.GetCompletionAsync("Explain quantum computing");

// Function calling with streaming
var service = new ChatGptService(apiKey)
    .WithFunction("get_weather", "Gets weather",
        ("city", "City name", required: true),
        city =&gt; $"Weather in {city}: Sunny, 22°C");

await foreach (var content in service.StreamAsync(query, StreamOptions.WithFunctions))
{
    if (content.Type == StreamingContentType.FunctionCall)
        Console.WriteLine($"Calling: {content.Metadata["function_name"]}");
    else if (content.Type == StreamingContentType.Text)
        Console.Write(content.Content);
}
```

## Documentation
- Basic Usage: https://github.com/AJ-comp/Mythosia/wiki
- Advanced Features: https://github.com/AJ-comp/Mythosia/wiki/Advanced-Features
- Release Notes: https://github.com/AJ-comp/Mythosia/wiki/Release-Notes
			- GitHub: https://github.com/AJ-comp/Mythosia
		</Description>
		<PackageProjectUrl>https://github.com/AJ-comp/Mythosia/tree/master/Mythosia.AI</PackageProjectUrl>
		<PackageReadmeFile>README.md</PackageReadmeFile>
		<Version>4.0.0</Version>
	</PropertyGroup>


	<ItemGroup>
		<PackageReference Include="Azure.AI.OpenAI" Version="2.1.0" />
		<PackageReference Include="Newtonsoft.Json" Version="13.0.4" />
		<PackageReference Include="System.Threading.Channels" Version="9.0.7" />
		<PackageReference Include="TiktokenSharp" Version="1.2.0" />
	</ItemGroup>


	<ItemGroup>
	  <ProjectReference Include="..\Mythosia\Mythosia.csproj" />
	</ItemGroup>

	<ItemGroup>
	  <None Update="README.md">
	    <Pack>True</Pack>
	    <PackagePath>\</PackagePath>
	  </None>
	</ItemGroup>

	<ItemGroup>
	  <Folder Include="docs\" />
	</ItemGroup>

</Project>
