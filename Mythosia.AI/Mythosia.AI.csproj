<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>netstandard2.1</TargetFramework>
    <Nullable>enable</Nullable>
  </PropertyGroup>


	<PropertyGroup>
		<VersionPrefix>3.0.3</VersionPrefix>

		<Company>Mythosia</Company>
		<PackageTags>AI; Gpt5; Claude Opus 4.1; ChatGpt; Claude; DeepSeek; Sonar; Gemini; Multi modal;</PackageTags>
		<Authors>JJW</Authors>
		<Description>
## 🚀 What's New in v3.0.3
See release notes for latest updates: https://github.com/AJ-comp/Mythosia/wiki/Release-Notes
			
## 🚀 What's New in v3.0.0

### Major Features
- **Function Calling**: AI models can now execute your custom functions during conversations
- **Enhanced Streaming**: New StreamingContent with metadata support and real-time function execution
- **Policy System**: Control function execution with timeouts, retry logic, and concurrency limits
- **Attribute-Based Functions**: Register methods with [AiFunction] and [AiParameter] attributes
- **Fluent Function Builder**: Chain function definitions with builder pattern

### Function Calling Support
- ✅ **OpenAI**: GPT-4o, GPT-4.1, o3 series (full support)
- ✅ **Anthropic**: Claude 3/4 series (native tool use)
- 🔜 **Coming Soon**: GPT-5, Gemini (planned for next update)
- Build AI assistants that can send emails, query databases, call APIs, and more!

## Comprehensive AI Model Support

- **OpenAI**: GPT-5*, GPT-4.1, GPT-4o, o3 series (*function calling coming soon)
- **Anthropic**: Claude 4 (Opus 4.1, Sonnet 4), Claude 3.7, Claude 3.5
- **Google**: Gemini 2.5 Pro/Flash, Gemini 2.0, Gemini 1.5
- **DeepSeek**: Chat and Reasoner models
- **Perplexity**: Sonar with web search and citations

## Key Features

- ✅ **Function Calling**: Let AI execute your code (v3.0.0)
- ✅ **Streaming 2.0**: IAsyncEnumerable with metadata (v3.0.0)
- ✅ **Policy Control**: Timeout and retry management (v3.0.0)
- ✅ **Multimodal**: Text + images for vision models
- ✅ **Web Search**: Real-time search with citations (Perplexity)
- ✅ **Audio**: TTS and STT support (OpenAI)
- ✅ **Stateless Mode**: Independent requests without history
- ✅ **Fluent API**: Intuitive message builder
- ✅ **Token Management**: Precise counting and limits

## Quick Example
```csharp
// Define functions that AI can call
var service = new ChatGptService(apiKey)
.WithFunction("get_weather", "Gets weather for a city",
("city", "City name", required: true),
city => $"Weather in {city}: Sunny, 22°C")
.WithFunction("send_email", "Sends an email",
("to", "Recipient", true),
("subject", "Subject", true),
async (to, subject) => await EmailService.SendAsync(to, subject));

// AI automatically calls functions as needed
var response = await service.GetCompletionAsync(
"What's the weather in Seoul? If sunny, email john@example.com"
);
// AI will: 1) Call get_weather("Seoul")
//         2) Check if sunny
//         3) Call send_email() if condition met
//         4) Provide natural language response

// Stream with real-time function execution
await foreach (var content in service.StreamAsync(query, StreamOptions.WithFunctions))
{
if (content.Type == StreamingContentType.FunctionCall)
Console.WriteLine($"Calling: {content.Metadata["function_name"]}");
else if (content.Type == StreamingContentType.Text)
Console.Write(content.Content);
}
```

## Documentation
- Basic Usage: https://github.com/AJ-comp/Mythosia/wiki
- Advanced Features: https://github.com/AJ-comp/Mythosia/wiki/Advanced-Features
			- GitHub: https://github.com/AJ-comp/Mythosia
		</Description>
		<PackageProjectUrl>https://github.com/AJ-comp/Mythosia/tree/master/Mythosia.AI</PackageProjectUrl>
		<PackageReadmeFile>README.md</PackageReadmeFile>
		<Version>3.0.3</Version>
	</PropertyGroup>


	<ItemGroup>
		<PackageReference Include="Azure.AI.OpenAI" Version="2.1.0" />
		<PackageReference Include="Newtonsoft.Json" Version="13.0.3" />
		<PackageReference Include="System.Threading.Channels" Version="9.0.7" />
		<PackageReference Include="TiktokenSharp" Version="1.1.6" />
	</ItemGroup>


	<ItemGroup>
	  <ProjectReference Include="..\Mythosia\Mythosia.csproj" />
	</ItemGroup>

	<ItemGroup>
	  <None Update="README.md">
	    <Pack>True</Pack>
	    <PackagePath>\</PackagePath>
	  </None>
	</ItemGroup>

</Project>
